# ============================================================================
# 心理测试平台2.0 - 环境变量配置模板
# ============================================================================
# 
# 使用说明：
# 1. 复制此文件为 .env: cp .env.example .env
# 2. 根据实际环境修改配置项
# 3. 重要：不要将 .env 文件提交到Git
#
# ============================================================================

# ----------------------------------------------------------------------------
# 数据库配置 (PostgreSQL)
# ----------------------------------------------------------------------------
# 格式: postgresql://用户名:密码@主机:端口/数据库名?schema=public
DATABASE_URL="postgresql://psychology_user:psychology_refactor_pass@localhost:5435/psychology_refactor?schema=public"

# ----------------------------------------------------------------------------
# Redis配置
# ----------------------------------------------------------------------------
REDIS_URL="redis://localhost:6379"
REDIS_PASSWORD=""  # 如果Redis需要密码，在此填写

# ----------------------------------------------------------------------------
# JWT认证配置
# ----------------------------------------------------------------------------
# 重要：生产环境请修改为随机生成的强密钥（至少32位）
# 生成命令: openssl rand -base64 32
JWT_SECRET="your-random-secret-key-change-me-in-production"
JWT_EXPIRATION="7d"  # Token过期时间

# ----------------------------------------------------------------------------
# AI服务配置（可选，启用AI监控功能需要）
# ----------------------------------------------------------------------------
# AI服务地址
AI_SERVICE_URL="http://localhost:5678"

# AI服务认证Token（需与AI服务的配置一致）
AI_SERVICE_TOKEN="your-ai-service-token-change-me"

# 是否自动启动RTSP消费（建议设为false，由前端主动触发）
AI_AUTOSTART_RTSP="false"

# ----------------------------------------------------------------------------
# MediaMTX配置（可选，AI视频流需要）
# ----------------------------------------------------------------------------
# MediaMTX WebRTC地址
MEDIAMTX_HOST="http://localhost:8889"

# MediaMTX RTSP地址
MEDIAMTX_RTSP_URL="rtsp://localhost:8554"

# ----------------------------------------------------------------------------
# 应用配置
# ----------------------------------------------------------------------------
# Node环境
NODE_ENV="development"

# 后端API端口
PORT="4001"

# 前端应用端口（在apps/web/package.json中配置）
# NEXT_PUBLIC_API_URL 将自动设置为 http://localhost:4001

# ----------------------------------------------------------------------------
# CORS配置
# ----------------------------------------------------------------------------
# 允许的前端域名（多个用逗号分隔）
CORS_ORIGINS="http://localhost:4000,http://localhost:3000"

# ----------------------------------------------------------------------------
# 日志配置
# ----------------------------------------------------------------------------
# 日志级别: debug | info | warn | error
LOG_LEVEL="info"

# ----------------------------------------------------------------------------
# 文件上传配置
# ----------------------------------------------------------------------------
# 上传文件最大大小（单位：MB）
MAX_FILE_SIZE="10"

# 文件存储路径
UPLOAD_DIR="./uploads"

# ----------------------------------------------------------------------------
# 其他配置（可选）
# ----------------------------------------------------------------------------
# Sentry错误追踪（生产环境推荐）
# SENTRY_DSN=""

# 百度TTS API（语音播报功能）
# BAIDU_TTS_API_KEY=""
# BAIDU_TTS_SECRET_KEY=""

# OpenRouter API（LLM功能，已移除）
# OPENROUTER_API_KEY=""
# OPENROUTER_MODEL=""
